<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Letter for My Sayang</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --pink-light: #FFEDED; /* Very light pink, almost white */
            --pink-medium: #FDE2E4; /* Soft pink */
            --yellow-light: #FFF8E1; /* Light cream yellow */
            --white: #FFFFFF;
            --text-dark: #333333;
            --shadow-light: rgba(0, 0, 0, 0.05);
            --petal-size: 30px;
        }

        body {
				margin: 0;
				padding: 0;
				/* Keeping these for initial envelope centering, but the letter will handle its own */
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 100vh; /* Use min-height to allow content to extend past viewport */

				background: linear-gradient(135deg, var(--pink-light) 0%, var(--yellow-light) 100%);
				font-family: 'Playfair Display', serif;
				color: var(--text-dark);
				overflow-x: hidden; /* Prevent horizontal scroll for petals */
				/* overflow-y: auto; -- Let's manage this later if needed, depends on content height */
				position: relative; /* For petal positioning */

				/* IMPORTANT: Add this to allow letter-content to override centering of body flex for itself */
				flex-direction: column; /* Allows content within body to stack vertically */
			}


			/* Update your letter-content style */
			.letter-content {
				background-color: var(--white);
				border-radius: 10px;
				box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
				padding: 40px;
				/* Removed fixed margin-top to let flexbox handle it, or explicitly center it */
				margin: 0 auto; /* Ensure horizontal centering. Vertical margin will be handled by flex or page flow */
				width: 90%; /* Use a percentage width for responsiveness */
				max-width: 700px; /* Max width constraint */
				opacity: 0;
				transform: translateY(20px);
				transition: opacity 1s ease-out, transform 1s ease-out;
				min-height: 80vh; /* Ensure it's tall enough to scroll */
				position: relative; /* For glow effect */
				z-index: 50;
				display: none; /* Hidden by default */

				/* Add flexbox to center content vertically within the letter, if desired, or just use text-align */
				display: flex; /* Change this from 'none' when it becomes visible */
				flex-direction: column;
				align-items: center; /* Center content horizontally within the letter */
				box-sizing: border-box; /* Include padding in element's total width and height */
			}

			/* Ensure text and images within sections are centered */
			.letter-section {
				margin-bottom: 40px;
				text-align: center; /* This should center text and inline-block images */
				width: 100%; /* Ensure section takes full width of its parent */
			}

			.letter-section p,
			.letter-section img {
				margin-left: auto; /* Ensure these are centered too if they are narrower than their parent */
				margin-right: auto;
			}

        /* --- Envelope Styles --- */
        .envelope-container {
            width: 90%;
            max-width: 500px;
            aspect-ratio: 1.6 / 1; /* Standard envelope ratio */
            position: relative;
            box-shadow: 0 10px 30px var(--shadow-light);
            border-radius: 10px;
            overflow: hidden; /* Hide overflowing flap initially */
            background-color: var(--pink-medium); /* Envelope body color */
            transition: transform 1s ease-in-out, opacity 1s ease-in-out;
            z-index: 100;
        }

        .envelope-container.open {
            transform: translateY(-100vh) scale(0.5); /* Move up and shrink */
            opacity: 0;
            pointer-events: none; /* Disable interaction once open */
        }

        .envelope-flap {
            width: 100%;
            height: 50%; /* Half the envelope height */
            background: linear-gradient(to bottom right, var(--pink-medium) 0%, var(--pink-light) 100%);
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: top;
            cursor: grab;
            border-bottom: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 0 0 10px 10px;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.1s ease-out; /* For smooth dragging */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 10px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5em;
            color: var(--text-dark);
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
        }

        .envelope-flap span {
            font-size: 0.8em;
            opacity: 0.7;
        }

        .envelope-flap.dragging {
            cursor: grabbing;
        }

     
        .letter-content.show {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }

        /* Glow effect */
        .letter-content.glow {
            animation: pulse-glow 2s infinite alternate;
        }

        @keyframes pulse-glow {
            from {
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 0 5px 2px rgba(255, 220, 230, 0.5);
            }
            to {
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15), 0 0 15px 5px rgba(255, 220, 230, 0.8);
            }
        }

        

        .letter-section h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.8em;
            color: #C08081; /* A slightly deeper pink for headings */
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .letter-section img:hover {
            transform: scale(1.02);
        }

        /* --- Daisy Petal Animation --- */
        .petal {
            position: absolute;
            background-color: var(--white); /* Default white */
            border-radius: 50%;
            opacity: 0.6;
            filter: blur(1px); /* Soften edges */
            animation: float 15s infinite ease-in-out;
            z-index: 1; /* Behind letter content */
        }

        .petal:nth-child(2n) { background-color: var(--pink-medium); }
        .petal:nth-child(3n) { background-color: var(--yellow-light); }

        @keyframes float {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.6; }
            25% { transform: translateY(-50px) translateX(20px) rotate(15deg); opacity: 0.7; }
            50% { transform: translateY(-100px) translateX(-30px) rotate(-10deg); opacity: 0.5; }
            75% { transform: translateY(-150px) translateX(10px) rotate(20deg); opacity: 0.6; }
            100% { transform: translateY(-200px) translateX(-20px) rotate(-5deg); opacity: 0.4; } /* Float upwards and slightly sideways */
        }

        /* Adjust animation for different petals */
        .petal:nth-child(odd) { animation-duration: 18s; animation-delay: 0s; }
        .petal:nth-child(even) { animation-duration: 16s; animation-delay: 2s; }
        .petal:nth-child(3n) { animation-duration: 20s; animation-delay: 4s; }
        .petal:nth-child(4n) { animation-duration: 17s; animation-delay: 1s; }
        .petal:nth-child(5n) { animation-duration: 19s; animation-delay: 3s; }

        /* --- Footer --- */
        .letter-footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px dashed var(--pink-medium);
            font-family: 'Dancing Script', cursive;
            font-size: 1.8em;
            color: #C08081;
        }

        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            .letter-content {
                padding: 20px;
                margin: 20px auto;
            }
            .letter-section h2 {
                font-size: 2em;
            }
            .letter-section p {
                font-size: 1em;
            }
            .envelope-container {
                width: 95%;
            }
            .envelope-flap {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>

    <div class="petal" style="width: 25px; height: 25px; left: 10%; top: 10%;"></div>
    <div class="petal" style="width: 35px; height: 35px; left: 25%; top: 30%;"></div>
    <div class="petal" style="width: 30px; height: 30px; left: 40%; top: 5%;"></div>
    <div class="petal" style="width: 20px; height: 20px; left: 60%; top: 40%;"></div>
    <div class="petal" style="width: 40px; height: 40px; left: 80%; top: 20%;"></div>
    <div class="petal" style="width: 28px; height: 28px; left: 15%; top: 60%;"></div>
    <div class="petal" style="width: 32px; height: 32px; left: 50%; top: 70%;"></div>
    <div class="petal" style="width: 22px; height: 22px; left: 75%; top: 85%;"></div>
    <div class="petal" style="width: 38px; height: 38px; left: 5%; top: 90%;"></div>
    <div class="petal" style="width: 27px; height: 27px; left: 90%; top: 55%;"></div>


    <div class="envelope-container" id="envelopeContainer">
        <div class="envelope-flap" id="envelopeFlap">
            A Special Letter for My Sayang ❤️
            <span>(Slide to open)</span>
        </div>
        </div>

    <div class="letter-content" id="letterContent">
        <div class="letter-section">
            <h2>I'm So Sorry, Sayang...</h2>
            <p>
                My dearest love, if these words find you with a heavy heart, please know that mine aches even more.
                There are no excuses for my actions, only a profound regret and an earnest desire to make things right.
                You mean the world to me, and hurting you is the last thing I ever want to do. Please, let me try to make it up to you.
            </p>
        </div>

        <div class="letter-section">
            <h2>Our Cherished Laughter</h2>
            <p>
                Remember that time we [insert a funny or sweet memory here, e.g., tried to cook that complicated recipe and it went horribly wrong, but we laughed until our stomachs hurt]?
                Those moments of pure joy and silliness with you are treasures I hold so dear. You bring so much light into my life.
            </p>
            <img src="images/your_photo_1.jpg" alt="Our funny memory">
        </div>

        <div class="letter-section">
            <h2>Your Beautiful Heart</h2>
            <p>
                Every day, I'm amazed by your kindness, your strength, and the beautiful way you see the world.
                You inspire me in ways you might not even realize. Your compassion is a gentle breeze, and your spirit, a shining star.
            </p>
            <img src="images/your_photo_2.jpg" alt="A photo representing her qualities">
        </div>

        <div class="letter-section">
            <h2>Adventures with You</h2>
            <p>
                From [insert a past adventure, e.g., our quiet walks in the park] to [insert another, e.g., our wild road trip],
                every adventure is better with you by my side. You make ordinary moments extraordinary.
            </p>
            <img src="images/your_photo_3.jpg" alt="An adventure photo">
        </div>

        <div class="letter-section">
            <h2>A Future with You</h2>
            <p>
                My hope for our future is filled with more laughter, more quiet moments, more dreams shared, and growing closer each day.
                I promise to cherish you, support you, and love you fiercely, always.
                Please give me a chance to show you how much you mean to me.
            </p>
            <img src="images/your_photo_4.jpg" alt="A photo representing future hopes">
        </div>

        <div class="letter-footer">
            With All My Love, <br> [Your Name Here] ❤️
        </div>
    </div>

    <script>
        const envelopeFlap = document.getElementById('envelopeFlap');
        const envelopeContainer = document.getElementById('envelopeContainer');
        const letterContent = document.getElementById('letterContent');
        let isDragging = false;
        let initialY;
        let flapInitialTop = 0; // The initial 'top' style property of the flap

        // Function to open the letter
        function openLetter() {
            // Add class to animate envelope away
            envelopeContainer.classList.add('open');

            // Show letter content after envelope animation starts
            setTimeout(() => {
                letterContent.classList.add('show');
                // Trigger glow animation after content is fully visible
                setTimeout(() => {
                    letterContent.classList.add('glow');
                }, 1000); // Allow 1 second for basic show transition
            }, 800); // Match this to envelope transition duration
        }

        // --- Mouse Events ---
        envelopeFlap.addEventListener('mousedown', (e) => {
            isDragging = true;
            envelopeFlap.classList.add('dragging');
            initialY = e.clientY;
            // Get current 'top' value, parse as float, or default to 0 if not set
            flapInitialTop = parseFloat(getComputedStyle(envelopeFlap).top) || 0;
            e.preventDefault(); // Prevent default drag behavior
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;

            const deltaY = e.clientY - initialY;
            let newTop = flapInitialTop + deltaY;

            // Ensure flap doesn't go above its original position (0)
            // Or too far down (e.g., 80% of envelope height)
            newTop = Math.max(0, Math.min(newTop, envelopeContainer.offsetHeight * 0.8));

            envelopeFlap.style.top = `${newTop}px`;
        });

        document.addEventListener('mouseup', () => {
            if (isDragging) {
                isDragging = false;
                envelopeFlap.classList.remove('dragging');

                // Check if the flap is pulled down enough to open (e.g., 50% of its own height)
                const flapHeight = envelopeFlap.offsetHeight;
                const currentTop = parseFloat(getComputedStyle(envelopeFlap).top);

                if (currentTop >= flapHeight * 0.5) {
                    // It's open! Animate the flap down completely and open the letter
                    envelopeFlap.style.top = '100%'; // Animate flap to bottom
                    envelopeFlap.style.transition = 'top 0.5s ease-out'; // Smooth transition for auto-open
                    setTimeout(openLetter, 500); // Give flap time to animate
                } else {
                    // Not enough, snap back
                    envelopeFlap.style.top = '0';
                    envelopeFlap.style.transition = 'top 0.3s ease-in-out';
                }
            }
        });

        // --- Touch Events (for mobile) ---
        envelopeFlap.addEventListener('touchstart', (e) => {
            isDragging = true;
            envelopeFlap.classList.add('dragging');
            initialY = e.touches[0].clientY;
            flapInitialTop = parseFloat(getComputedStyle(envelopeFlap).top) || 0;
            e.preventDefault(); // Prevent scrolling
        }, { passive: false }); // Use passive: false to allow preventDefault

        document.addEventListener('touchmove', (e) => {
            if (!isDragging) return;

            const deltaY = e.touches[0].clientY - initialY;
            let newTop = flapInitialTop + deltaY;

            newTop = Math.max(0, Math.min(newTop, envelopeContainer.offsetHeight * 0.8));

            envelopeFlap.style.top = `${newTop}px`;
        }, { passive: false });

        document.addEventListener('touchend', () => {
            if (isDragging) {
                isDragging = false;
                envelopeFlap.classList.remove('dragging');

                const flapHeight = envelopeFlap.offsetHeight;
                const currentTop = parseFloat(getComputedStyle(envelopeFlap).top);

                if (currentTop >= flapHeight * 0.5) {
                    envelopeFlap.style.top = '100%';
                    envelopeFlap.style.transition = 'top 0.5s ease-out';
                    setTimeout(openLetter, 500);
                } else {
                    envelopeFlap.style.top = '0';
                    envelopeFlap.style.transition = 'top 0.3s ease-in-out';
                }
            }
        });
    </script>
</body>
</html>